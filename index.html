<!DOCTYPE html>

<html lang="zh-CN">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>åä¸ƒå²çš„ç•™è¨€æ ‘æ´</title>

    <style>

        body {

            font-family: Arial, sans-serif;

            font-size: 14px;

            margin: 0;

            padding: 0;

            background-color: #aacf53; /* æ•´ä½“èƒŒæ™¯é¢œè‰² */

            display: flex;

            justify-content: center;

            align-items: center;

            height: 100vh;

            overflow: hidden; /* éšè—è¶…å‡ºéƒ¨åˆ† */

            position: relative;

            animation: fadeIn 1s ease-in-out; /* é¡µé¢åŠ è½½æ—¶çš„æ·¡å…¥æ•ˆæœ */

        }

        @keyframes fadeIn {

            from { opacity: 0; }

            to { opacity: 1; }

        }

        h1 {

            text-align: center;

            color: #333;

        }

        .message-board {

            width: 300px; /* ç•™è¨€æ¿å®½åº¦ */

            padding: 20px;

            border: 1px solid rgba(255, 255, 255, 0.2); /* åŠé€æ˜è¾¹æ¡† */

            border-radius: 50% / 20%; /* ç«–ç€çš„æ¤­åœ†å½¢ */

            background-color: rgba(255, 255, 255, 0.5); /* åŠé€æ˜èƒŒæ™¯ */

            backdrop-filter: blur(10px); /* é«˜æ–¯æ¨¡ç³Šæ•ˆæœ */

            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);

            animation: slideIn 0.5s ease-in-out; /* ç•™è¨€æ¿æ»‘åŠ¨æ•ˆæœ */

            position: relative;

            z-index: 1; /* ç¡®ä¿ç•™è¨€æ¿åœ¨èƒŒæ™¯ä¹‹ä¸Š */

        }

        @keyframes slideIn {

            from { transform: translateY(-20px); opacity: 0; }

            to { transform: translateY(0); opacity: 1; }

        }

        textarea {

            width: 100%; /* è¾“å…¥æ¡†å®½åº¦ä¸ç•™è¨€æ¿ç›¸é€‚åº” */

            height: 100px;

            margin-bottom: 10px;

            padding: 10px;

            border: 1px solid rgba(0, 0, 0, 0.1); /* åŠé€æ˜è¾¹æ¡† */

            border-radius: 5px;

            font-size: 14px;

            box-sizing: border-box; /* é˜²æ­¢è¾“å…¥æ¡†è¶…å‡ºç•™è¨€æ¿ */

            background-color: rgba(255, 255, 255, 0.8); /* åŠé€æ˜èƒŒæ™¯ */

            backdrop-filter: blur(5px); /* é«˜æ–¯æ¨¡ç³Šæ•ˆæœ */

        }

        .button-container {

            display: flex;

            justify-content: center; /* æŒ‰é’®å±…ä¸­æ’åˆ— */

            gap: 10px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */

        }

        button {

            padding: 8px 16px;

            font-size: 14px;

            border: none;

            border-radius: 5px;

            background-color: rgba(220, 214, 217, 0.8); /* åŠé€æ˜èƒŒæ™¯ */

            color: #000; /* æŒ‰é’®å­—ä½“é¢œè‰² */

            cursor: pointer;

            transition: transform 0.2s ease-in-out; /* æŒ‰é’®ç‚¹å‡»æ—¶çš„ç¼©æ”¾æ•ˆæœ */

            backdrop-filter: blur(5px); /* é«˜æ–¯æ¨¡ç³Šæ•ˆæœ */

        }

        button:hover {

            transform: scale(1.05); /* é¼ æ ‡æ‚¬åœæ—¶æ”¾å¤§æŒ‰é’® */

        }

        button:active {

            transform: scale(0.95); /* ç‚¹å‡»æ—¶ç¼©å°æŒ‰é’® */

        }

        /* èƒŒæ™¯ä¸­çš„ ğŸ€ åŠ¨ç”» */

        .leaf {

            position: absolute;

            font-size: 24px;

            animation: spiral 10s linear infinite; /* è¿åŠ¨é€Ÿåº¦å˜æ…¢ */

            z-index: 0; /* ç¡®ä¿ ğŸ€ åœ¨èƒŒæ™¯ä¸­æ˜¾ç¤º */

            cursor: pointer; /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæ‰‹å‹ */

        }

        @keyframes spiral {

            0% {

                transform: translateY(100vh) translateX(-50vw) rotate(0deg);

            }

            100% {

                transform: translateY(-100vh) translateX(50vw) rotate(720deg);

            }

        }

    </style>

</head>

<body>

    <!-- èƒŒæ™¯ä¸­çš„ ğŸ€ -->

    <div id="leaf-container"></div>

    <!-- ç•™è¨€æ¿ -->

    <div class="message-board">

        <h1>åä¸ƒå²çš„ç•™è¨€æ ‘æ´</h1>

        <textarea id="message" placeholder="á¯ _   Ì« _á¯„"></textarea>

        <div class="button-container">

            <button onclick="saveMessage()">ä¿å­˜ç•™è¨€</button>

            <button onclick="viewRecords()">ç•™è¨€è®°å½•</button>

        </div>

        <div id="saved-messages"></div>

    </div>

    <!-- å¼•å…¥ Firebase SDK -->

    <script type="module">

        // å¯¼å…¥ Firebase æ¨¡å—

        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";

        import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

        // Firebase é…ç½®

        const firebaseConfig = {

            apiKey: "AIzaSyCXnOTpm0ixQQN1rzIIRGFXLM9pLs42IGM",

            authDomain: "message-board-a8c2e.firebaseapp.com",

            projectId: "message-board-a8c2e",

            storageBucket: "message-board-a8c2e.firebasestorage.app",

            messagingSenderId: "99884652710",

            appId: "1:99884652710:web:ab314b0ef6a92565087c67",

            measurementId: "G-84E6C58848"

        };

        // åˆå§‹åŒ– Firebase

        const app = initializeApp(firebaseConfig);

        const db = getFirestore(app);

        // ä¿å­˜ç•™è¨€

        async function saveMessage() {

            const message = document.getElementById("message").value;

            if (message.trim() === "") {

                alert("ç•™è¨€ä¸èƒ½ä¸ºç©ºï¼");

                return;

            }

            const date = new Date().toLocaleString();

            // å°†ç•™è¨€ä¿å­˜åˆ° Firestore

            await addDoc(collection(db, "messages"), { message, date });

            alert("ç•™è¨€å·²ä¿å­˜ï¼");

            document.getElementById("message").value = ""; // æ¸…ç©ºè¾“å…¥æ¡†

            loadMessages(); // åˆ·æ–°ç•™è¨€è®°å½•

        }

        // åŠ è½½ç•™è¨€è®°å½•

        async function loadMessages() {

            const messagesContainer = document.getElementById("saved-messages");

            messagesContainer.innerHTML = ""; // æ¸…ç©ºç°æœ‰å†…å®¹

            const querySnapshot = await getDocs(collection(db, "messages"));

            querySnapshot.forEach(doc => {

                const messageData = doc.data();

                const messageElement = document.createElement("div");

                messageElement.textContent = `${messageData.date}: ${messageData.message}`;

                messagesContainer.appendChild(messageElement);

            });

        }

        // é¡µé¢åŠ è½½æ—¶åŠ è½½ç•™è¨€è®°å½•

        window.onload = loadMessages;

        // ç”Ÿæˆéšæœºä½ç½®çš„ ğŸ€

        function createLeaves() {

            var leafContainer = document.getElementById("leaf-container");

            for (var i = 0; i < 15; i++) {

                var leaf = document.createElement("div");

                leaf.className = "leaf";

                leaf.innerHTML = "ğŸ€";

                // éšæœºå¤§å°ï¼ˆ24px åˆ° 48pxï¼‰

                var size = Math.random() * 24 + 24;

                leaf.style.fontSize = size + "px";

                // éšæœºæ°´å¹³ä½ç½®

                leaf.style.left = Math.random() * 100 + "vw";

                // éšæœºåŠ¨ç”»å»¶è¿Ÿ

                leaf.style.animationDelay = Math.random() * 5 + "s";

                // ç‚¹å‡» ğŸ€ ååœä½ä¸€ç§’å¹¶æ¶ˆå¤±

                leaf.addEventListener("click", function () {

                    this.style.animationPlayState = "paused"; // æš‚åœåŠ¨ç”»

                    setTimeout(() => {

                        this.remove(); // ä¸€ç§’åæ¶ˆå¤±

                    }, 1000);

                });

                leafContainer.appendChild(leaf);

            }

        }

        // åˆå§‹åŒ– ğŸ€

        createLeaves();

    </script>

</body>

</html>